# 建筑边界绘制器 (building-boundary-json-drawer)

一个简单易用的建筑边界绘制工具，用于生成建筑边界矩阵，支持导出JSON格式。

## 功能特点

- ✨ **直观的可视化绘制**：通过点击和拖拽在网格上绘制建筑边界
- 🖱️ **双模式操作**：左键绘制边界，右键擦除边界
- 📱 **响应式设计**：支持桌面和移动设备
- 📊 **实时统计**：显示边界格子数、建筑总面积等信息
- 🔍 **内部区域预览**：可预览建筑边界围合的内部区域
- 📤 **JSON导出/导入**：支持导出和导入边界矩阵
- 🎨 **简洁美观的界面**：现代化的UI设计，易于使用

## 使用说明

### 基本操作

1. **绘制边界**：使用**左键点击/拖拽**在网格上绘制黑色边界线
2. **擦除边界**：使用**右键点击/拖拽**擦除已绘制的边界
3. **切换画布大小**：在"画布设置"中选择10x10或20x20的网格大小
4. **预览内部区域**：点击"预览内部区域"按钮查看围合的内部区域（半透明红色）
5. **导出JSON**：边界闭合后，点击"导出 JSON"按钮生成边界矩阵文件
6. **导入JSON**：点击"导入 JSON"按钮加载已有的边界矩阵
7. **清空画布**：点击"清空画布"按钮重置网格

### 界面元素说明

- **黑色单元格**：表示建筑边界
- **白色单元格**：表示空白区域
- **半透明红色单元格**：表示边界围合的内部区域
- **每个单元格**：代表1m × 1m的实际空间

## 技术栈

- **HTML5**：页面结构
- **CSS3**：样式设计和响应式布局
- **JavaScript (ES6+)**：交互逻辑和算法

## 如何运行

### 本地运行

1. 克隆或下载项目文件
2. 使用浏览器直接打开 `matrix_generator.html` 文件
3. 开始使用建筑边界绘制器

### 使用HTTP服务器（推荐）

```bash
# 使用Python启动HTTP服务器
python -m http.server 8000

# 或使用Node.js的http-server
npx http-server -p 8000
```

然后在浏览器中访问 `http://localhost:8000/matrix_generator.html`

## 项目结构

```
.
├── matrix_generator.html  # 主页面文件
├── 标题背景图.png         # 标题背景图片
├── 左键绘制边界.png       # 操作指南图片
├── 右键擦除边界.png       # 操作指南图片
└── README.md             # 项目说明文档
```

## 算法说明

### 边界闭合检测

使用洪水填充算法从矩阵边缘开始填充，检测是否存在未被填充的内部区域，从而判断边界是否闭合。

### 内部区域识别

通过洪水填充算法识别边界外部区域，剩余未被填充的区域即为边界内部区域。

## 导出格式说明

导出的JSON文件是一个二维数组，其中：

- `1` 表示建筑边界或内部区域
- `0` 表示空白区域

示例：
```json
[
  [0, 0, 0, 0, 0],
  [0, 1, 1, 1, 0],
  [0, 1, 0, 1, 0],
  [0, 1, 1, 1, 0],
  [0, 0, 0, 0, 0]
]
```

## 浏览器兼容性

- ✅ Chrome (推荐)
- ✅ Firefox
- ✅ Safari
- ✅ Edge
- ✅ 移动端浏览器

## 许可证

MIT License

## 贡献

欢迎提交Issue和Pull Request！

## 更新日志

### v1.0.0
- 初始版本
- 支持基本的边界绘制和擦除
- 支持JSON导出/导入
- 响应式设计
- 实时统计信息

---

**作者**：Mentat  
**项目地址**：[GitHub Repository URL]  
**联系方式**：uran0831@qq.com
